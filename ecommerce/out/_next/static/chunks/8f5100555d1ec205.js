(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7233,e=>{"use strict";let s=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>s],7233)},69638,e=>{"use strict";let s=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>s],69638)},3116,e=>{"use strict";let s=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>s],3116)},83086,e=>{"use strict";let s=(0,e.i(75254).default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);e.s(["Sparkles",()=>s],83086)},88268,e=>{"use strict";e.i(47167);var s=e.i(43476),a=e.i(71645),t=e.i(18566),r=e.i(57688),i=e.i(22016),l=e.i(67881),d=e.i(23750),n=e.i(10708),o=e.i(81140),c=e.i(20783),m=e.i(30030),u=e.i(48425),h=e.i(42727),x=e.i(69340),p=e.i(86318),f=e.i(35804),y=e.i(99682),g=e.i(96626),j="Radio",[N,v]=(0,m.createContextScope)(j),[b,w]=N(j),k=a.forwardRef((e,t)=>{let{__scopeRadio:r,name:i,checked:l=!1,required:d,disabled:n,value:m="on",onCheck:h,form:x,...p}=e,[f,y]=a.useState(null),g=(0,c.useComposedRefs)(t,e=>y(e)),j=a.useRef(!1),N=!f||x||!!f.closest("form");return(0,s.jsxs)(b,{scope:r,checked:l,disabled:n,children:[(0,s.jsx)(u.Primitive.button,{type:"button",role:"radio","aria-checked":l,"data-state":z(l),"data-disabled":n?"":void 0,disabled:n,value:m,...p,ref:g,onClick:(0,o.composeEventHandlers)(e.onClick,e=>{l||h?.(),N&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})}),N&&(0,s.jsx)(P,{control:f,bubbles:!j.current,name:i,value:m,checked:l,required:d,disabled:n,form:x,style:{transform:"translateX(-100%)"}})]})});k.displayName=j;var C="RadioIndicator",S=a.forwardRef((e,a)=>{let{__scopeRadio:t,forceMount:r,...i}=e,l=w(C,t);return(0,s.jsx)(g.Presence,{present:r||l.checked,children:(0,s.jsx)(u.Primitive.span,{"data-state":z(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:a})})});S.displayName=C;var P=e=>{let{control:t,checked:r,bubbles:i=!0,...l}=e,d=a.useRef(null),n=(0,y.usePrevious)(r),o=(0,f.useSize)(t);return a.useEffect(()=>{let e=d.current,s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(n!==r&&s){let a=new Event("click",{bubbles:i});s.call(e,r),e.dispatchEvent(a)}},[n,r,i]),(0,s.jsx)("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...l,tabIndex:-1,ref:d,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function z(e){return e?"checked":"unchecked"}var I=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],L="RadioGroup",[R,T]=(0,m.createContextScope)(L,[h.createRovingFocusGroupScope,v]),A=(0,h.createRovingFocusGroupScope)(),E=v(),[D,F]=R(L),M=a.forwardRef((e,a)=>{let{__scopeRadioGroup:t,name:r,defaultValue:i,value:l,required:d=!1,disabled:n=!1,orientation:o,dir:c,loop:m=!0,onValueChange:f,...y}=e,g=A(t),j=(0,p.useDirection)(c),[N,v]=(0,x.useControllableState)({prop:l,defaultProp:i,onChange:f});return(0,s.jsx)(D,{scope:t,name:r,required:d,disabled:n,value:N,onValueChange:v,children:(0,s.jsx)(h.Root,{asChild:!0,...g,orientation:o,dir:j,loop:m,children:(0,s.jsx)(u.Primitive.div,{role:"radiogroup","aria-required":d,"aria-orientation":o,"data-disabled":n?"":void 0,dir:j,...y,ref:a})})})});M.displayName=L;var O="RadioGroupItem",$=a.forwardRef((e,t)=>{let{__scopeRadioGroup:r,disabled:i,...l}=e,d=F(O,r),n=d.disabled||i,m=A(r),u=E(r),x=a.useRef(null),p=(0,c.useComposedRefs)(t,x),f=d.value===l.value,y=a.useRef(!1);return a.useEffect(()=>{let e=e=>{I.includes(e.key)&&(y.current=!0)},s=()=>y.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",s),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",s)}},[]),(0,s.jsx)(h.Item,{asChild:!0,...m,focusable:!n,active:f,children:(0,s.jsx)(k,{disabled:n,required:d.required,checked:f,...u,...l,name:d.name,ref:p,onCheck:()=>d.onValueChange(l.value),onKeyDown:(0,o.composeEventHandlers)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,o.composeEventHandlers)(l.onFocus,()=>{y.current&&x.current?.click()})})})});$.displayName=O;var q=a.forwardRef((e,a)=>{let{__scopeRadioGroup:t,...r}=e,i=E(t);return(0,s.jsx)(S,{...i,...r,ref:a})});q.displayName="RadioGroupIndicator";var _=e.i(33498),B=e.i(47163);function G({className:e,...a}){return(0,s.jsx)(M,{"data-slot":"radio-group",className:(0,B.cn)("grid gap-3",e),...a})}function H({className:e,...a}){return(0,s.jsx)($,{"data-slot":"radio-group-item",className:(0,B.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:(0,s.jsx)(q,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,s.jsx)(_.CircleIcon,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var K=e.i(70065),U=e.i(62870),J=e.i(18376),V=e.i(46897),Y=e.i(7233),Q=e.i(31278),W=e.i(43531),X=e.i(69638),Z=e.i(83086),ee=e.i(3116);let es="http://192.168.1.35:5000",ea=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Andaman and Nicobar Islands","Chandigarh","Dadra and Nagar Haveli and Daman and Diu","Delhi","Jammu and Kashmir","Ladakh","Lakshadweep","Puducherry"];function et(){let e=(0,t.useRouter)(),{cartItems:o,loading:c}=(0,J.useCart)(),[m,u]=(0,a.useState)([]),[h,x]=(0,a.useState)(""),[p,f]=(0,a.useState)(!1),[y,g]=(0,a.useState)(!1),[j,N]=(0,a.useState)(""),[v,b]=(0,a.useState)(!0),[w,k]=(0,a.useState)(!1),[C,S]=(0,a.useState)(!1),[P,z]=(0,a.useState)(150),[I,L]=(0,a.useState)(!0),[R,T]=(0,a.useState)({type:"home",firstName:"",lastName:"",phone:"",address1:"",address2:"",city:"",state:"",postcode:"",country:"India",isDefault:!1});(0,a.useEffect)(()=>{localStorage.getItem("customerToken")?(E(),A()):e.push("/login")},[e]);let A=async()=>{try{L(!0);let e=await fetch(`${es}/api/settings/shipping-charges`);if(!e.ok)throw Error("Failed to fetch shipping charges");let s=await e.json();s.success&&s.data&&z(s.data.shippingCharges||150)}catch(e){console.error("Error fetching shipping charges:",e),z(150)}finally{L(!1)}},E=async()=>{try{let e=localStorage.getItem("customerToken"),s=await fetch(`${es}/api/addresses`,{headers:{Authorization:`Bearer ${e}`}}),a=await s.json();if(a.success){u(a.data);let e=a.data.find(e=>e.isDefault);e?x(e._id):a.data.length>0&&x(a.data[0]._id)}}catch(e){console.error("Error fetching addresses:",e)}finally{b(!1)}},D=async e=>{e.preventDefault(),g(!0),N("");try{let e=localStorage.getItem("customerToken"),s=await fetch(`${es}/api/addresses`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(R)}),a=await s.json();a.success?(await E(),x(a.data._id),f(!1),T({type:"home",firstName:"",lastName:"",phone:"",address1:"",address2:"",city:"",state:"",postcode:"",country:"India",isDefault:!1})):N(a.message||"Failed to add address")}catch(e){console.error("Error adding address:",e),N("Network error. Please try again.")}finally{g(!1)}},F=async s=>{S(!0),N("");try{let a=localStorage.getItem("customerToken");if(!a){S(!1),N("Please log in again to verify your payment.");return}let t=await fetch(`${es}/api/orders/razorpay/verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(s)}),r=await t.json();r.success?(S(!1),k(!0),setTimeout(()=>{e.push(`/order-confirmation/${s.orderId}?payment=razorpay&txn=${s.razorpayPaymentId}`)},1500)):(S(!1),N(r.message||"Unable to confirm payment. Please contact support."))}catch(e){console.error("Error verifying payment:",e),S(!1),N("Payment verification failed. Please contact support with your payment ID.")}},M=async()=>{if(!h)return void N("Please select or add a delivery address");g(!0),N("");try{let e=localStorage.getItem("customerToken"),s=await fetch(`${es}/api/orders/razorpay/initiate`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({addressId:h})}),a=await s.json();if(a.success&&a.data?.razorpayOrderId){let e=m.find(e=>e._id===h);if(await new Promise((e,s)=>{if(document.querySelector('script[src="https://checkout.razorpay.com/v1/checkout.js"]'))return void e(!0);let a=document.createElement("script");a.src="https://checkout.razorpay.com/v1/checkout.js",a.async=!0,a.onload=()=>e(!0),a.onerror=()=>s(Error("Failed to load Razorpay SDK")),document.body.appendChild(a)}),!window.Razorpay)throw Error("Razorpay SDK not available");let s=new window.Razorpay({key:a.data.keyId,amount:a.data.amount,currency:a.data.currency||"INR",name:"Elecobuy",description:`Order ${a.data.orderNumber}`,order_id:a.data.razorpayOrderId,prefill:{name:e?`${e.firstName} ${e.lastName}`.trim():a.data.customer?.name,contact:e?.phone||a.data.customer?.contact},notes:{orderId:a.data.orderId,orderNumber:a.data.orderNumber},handler:async e=>{await F({orderId:a.data.orderId,razorpayOrderId:e.razorpay_order_id,razorpayPaymentId:e.razorpay_payment_id,razorpaySignature:e.razorpay_signature})}});s.on("payment.failed",e=>{S(!1),N(e?.error?.description||"Payment failed. Please try again.")}),s.open(),g(!1);return}N(a.message||"Failed to initiate payment")}catch(e){console.error("Error placing order:",e),N("Network error. Please try again.")}g(!1)},O=o.reduce((e,s)=>e+s.price*s.quantity,0),$=m.find(e=>e._id===h),q=$?.state?.trim().toUpperCase()||"",_="TELANGANA"===q||"TS"===q,B=O+P,et=0,er=0,ei=0;$&&(_?(et=Math.round(9*B/100),er=Math.round(9*B/100)):ei=Math.round(18*B/100));let el=O+P+(et+er+ei);return c||v||I?(0,s.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-16",children:(0,s.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,s.jsx)(Q.Loader2,{className:"h-8 w-8 animate-spin text-primary"})})}):0===o.length?(0,s.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-16",children:(0,s.jsxs)("div",{className:"max-w-md mx-auto text-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Your Cart is Empty"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-8",children:"Add items to your cart to proceed to checkout."}),(0,s.jsx)(i.default,{href:"/products",children:(0,s.jsx)(l.Button,{size:"lg",children:"Continue Shopping"})})]})}):(0,s.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8",children:[C&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center animate-in fade-in-0 duration-300 p-4",children:(0,s.jsx)("div",{className:"bg-white rounded-2xl p-6 sm:p-8 max-w-md w-full mx-4 animate-in zoom-in-95 duration-500 shadow-2xl",children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsxs)("div",{className:"relative mb-4 sm:mb-6",children:[(0,s.jsx)("div",{className:"h-20 w-20 sm:h-24 sm:w-24 rounded-full bg-primary/10 flex items-center justify-center",children:(0,s.jsx)(Q.Loader2,{className:"h-12 w-12 sm:h-16 sm:w-16 text-primary animate-spin"})}),(0,s.jsx)("div",{className:"absolute inset-0 rounded-full border-4 border-primary/20 animate-ping"})]}),(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-2 animate-in fade-in-0 slide-in-from-bottom-4 duration-700",children:"Payment Successful!"}),(0,s.jsx)("p",{className:"text-sm sm:text-base text-muted-foreground mb-4 animate-in fade-in-0 slide-in-from-bottom-4 duration-1000 text-center",children:"Confirming your order..."}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-primary",children:[(0,s.jsx)(ee.Clock,{className:"h-4 w-4 animate-pulse"}),(0,s.jsx)("span",{className:"text-xs sm:text-sm",children:"Please wait"})]})]})})}),w&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center animate-in fade-in-0 duration-300 p-4",children:(0,s.jsx)("div",{className:"bg-white rounded-2xl p-6 sm:p-8 max-w-md w-full mx-4 animate-in zoom-in-95 duration-500 shadow-2xl",children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsxs)("div",{className:"relative mb-4 sm:mb-6",children:[(0,s.jsx)("div",{className:"h-20 w-20 sm:h-24 sm:w-24 rounded-full bg-green-100 flex items-center justify-center animate-in zoom-in-95 duration-500",children:(0,s.jsx)(X.CheckCircle,{className:"h-12 w-12 sm:h-16 sm:w-16 text-green-600 animate-in zoom-in-95 duration-700"})}),(0,s.jsx)(Z.Sparkles,{className:"h-5 w-5 sm:h-6 sm:w-6 text-yellow-400 absolute -top-2 -right-2 animate-pulse"}),(0,s.jsx)(Z.Sparkles,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-400 absolute -bottom-1 -left-1 animate-pulse delay-300"}),(0,s.jsx)(Z.Sparkles,{className:"h-3 w-3 sm:h-4 sm:w-4 text-yellow-400 absolute top-1/2 -left-3 animate-pulse delay-700"})]}),(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-2 animate-in fade-in-0 slide-in-from-bottom-4 duration-700",children:"Order Confirmed!"}),(0,s.jsx)("p",{className:"text-sm sm:text-base text-muted-foreground mb-4 animate-in fade-in-0 slide-in-from-bottom-4 duration-1000 text-center",children:"Your order has been confirmed. Redirecting to order details..."}),(0,s.jsx)("div",{className:"w-full bg-muted rounded-full h-2 overflow-hidden",children:(0,s.jsx)("div",{className:"bg-primary h-full animate-progress",style:{animation:"progress 1.5s linear forwards"}})})]})})}),(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold mb-4 sm:mb-6 lg:mb-8",children:"Checkout"}),j&&(0,s.jsx)("div",{className:"mb-6 rounded-md bg-destructive/10 border border-destructive/20 p-3",children:(0,s.jsx)("p",{className:"text-sm text-destructive",children:j})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:[(0,s.jsx)("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6",children:(0,s.jsxs)(K.Card,{children:[(0,s.jsx)(K.CardHeader,{className:"p-4 sm:p-6",children:(0,s.jsxs)(K.CardTitle,{className:"flex items-center gap-2 text-base sm:text-lg",children:[(0,s.jsx)(V.MapPin,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Delivery Address"]})}),(0,s.jsx)(K.CardContent,{className:"space-y-3 sm:space-y-4 p-4 sm:p-6 pt-0",children:p?(0,s.jsxs)("form",{onSubmit:D,className:"space-y-3 sm:space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(n.Label,{htmlFor:"firstName",className:"text-sm",children:"First Name *"}),(0,s.jsx)(d.Input,{id:"firstName",value:R.firstName,onChange:e=>T({...R,firstName:e.target.value}),required:!0,className:"h-10 sm:h-11 text-sm mt-1.5"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(n.Label,{htmlFor:"lastName",className:"text-sm",children:"Last Name *"}),(0,s.jsx)(d.Input,{id:"lastName",value:R.lastName,onChange:e=>T({...R,lastName:e.target.value}),required:!0,className:"h-10 sm:h-11 text-sm mt-1.5"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(n.Label,{htmlFor:"phone",className:"text-sm",children:"Phone Number *"}),(0,s.jsx)(d.Input,{id:"phone",type:"tel",inputMode:"numeric",value:R.phone,onChange:e=>T({...R,phone:e.target.value.replace(/\D/g,"").slice(0,10)}),required:!0,className:"h-10 sm:h-11 text-sm mt-1.5"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(n.Label,{htmlFor:"address1",className:"text-sm",children:"Address Line 1 *"}),(0,s.jsx)(d.Input,{id:"address1",value:R.address1,onChange:e=>T({...R,address1:e.target.value}),required:!0,className:"h-10 sm:h-11 text-sm mt-1.5"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(n.Label,{htmlFor:"address2",className:"text-sm",children:"Address Line 2"}),(0,s.jsx)(d.Input,{id:"address2",value:R.address2,onChange:e=>T({...R,address2:e.target.value}),className:"h-10 sm:h-11 text-sm mt-1.5"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(n.Label,{htmlFor:"city",className:"text-sm",children:"City *"}),(0,s.jsx)(d.Input,{id:"city",value:R.city,onChange:e=>T({...R,city:e.target.value}),required:!0,className:"h-10 sm:h-11 text-sm mt-1.5"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(n.Label,{htmlFor:"state",className:"text-sm",children:"State *"}),(0,s.jsxs)(U.Select,{value:R.state,onValueChange:e=>T({...R,state:e}),required:!0,children:[(0,s.jsx)(U.SelectTrigger,{id:"state",className:"h-10 sm:h-11 text-sm mt-1.5 w-full",children:(0,s.jsx)(U.SelectValue,{placeholder:"Select State"})}),(0,s.jsx)(U.SelectContent,{children:ea.map(e=>(0,s.jsx)(U.SelectItem,{value:e,children:e},e))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(n.Label,{htmlFor:"postcode",className:"text-sm",children:"Postcode *"}),(0,s.jsx)(d.Input,{id:"postcode",type:"tel",inputMode:"numeric",value:R.postcode,onChange:e=>T({...R,postcode:e.target.value}),required:!0,className:"h-10 sm:h-11 text-sm mt-1.5"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"isDefault",checked:R.isDefault,onChange:e=>T({...R,isDefault:e.target.checked}),className:"rounded h-4 w-4 sm:h-5 sm:w-5"}),(0,s.jsx)(n.Label,{htmlFor:"isDefault",className:"cursor-pointer text-sm touch-manipulation",children:"Set as default address"})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,s.jsxs)(l.Button,{type:"submit",disabled:y,className:"h-10 sm:h-11 text-sm sm:text-base touch-manipulation flex-1",children:[y?(0,s.jsx)(Q.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}):(0,s.jsx)(W.Check,{className:"h-4 w-4 mr-2"}),"Save Address"]}),(0,s.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>f(!1),className:"h-10 sm:h-11 text-sm sm:text-base touch-manipulation",children:"Cancel"})]})]}):(0,s.jsxs)(s.Fragment,{children:[m.length>0?(0,s.jsx)(G,{value:h,onValueChange:x,children:m.map(e=>(0,s.jsxs)("div",{className:"flex items-start space-x-2 sm:space-x-3 p-3 sm:p-4 border rounded-lg",children:[(0,s.jsx)(H,{value:e._id,id:e._id,className:"mt-1 h-4 w-4 sm:h-5 sm:w-5"}),(0,s.jsx)(n.Label,{htmlFor:e._id,className:"flex-1 cursor-pointer",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("p",{className:"font-semibold text-sm sm:text-base",children:[e.firstName," ",e.lastName]}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e.phone}),(0,s.jsxs)("p",{className:"text-xs sm:text-sm mt-1",children:[e.address1,e.address2&&`, ${e.address2}`]}),(0,s.jsxs)("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[e.city,", ",e.state," ",e.postcode]}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground",children:e.country})]}),e.isDefault&&(0,s.jsx)("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded self-start",children:"Default"})]})})]},e._id))}):(0,s.jsx)("p",{className:"text-sm sm:text-base text-muted-foreground text-center py-4",children:"No saved addresses"}),(0,s.jsxs)(l.Button,{variant:"outline",className:"w-full h-10 sm:h-11 text-sm sm:text-base touch-manipulation",onClick:()=>f(!0),children:[(0,s.jsx)(Y.Plus,{className:"h-4 w-4 mr-2"}),"Add New Address"]})]})})]})}),(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsxs)(K.Card,{className:"sticky top-20 sm:top-24",children:[(0,s.jsx)(K.CardHeader,{className:"p-4 sm:p-6",children:(0,s.jsx)(K.CardTitle,{className:"text-base sm:text-lg",children:"Order Summary"})}),(0,s.jsxs)(K.CardContent,{className:"space-y-3 sm:space-y-4 p-4 sm:p-6 pt-0",children:[(0,s.jsx)("div",{className:"space-y-2.5 sm:space-y-3",children:o.map(e=>(0,s.jsxs)("div",{className:"flex gap-2 sm:gap-3",children:[(0,s.jsx)("div",{className:"relative h-14 w-14 sm:h-16 sm:w-16 shrink-0 overflow-hidden rounded-lg bg-muted",children:(0,s.jsx)(r.default,{src:e.product.images?.[0]?`${es}${e.product.images[0]}`:"/placeholder.svg",alt:e.product.name,fill:!0,className:"object-cover",sizes:"(max-width: 640px) 56px, 64px"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-xs sm:text-sm font-medium line-clamp-1",children:e.product.name}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Qty: ",e.quantity]}),(0,s.jsxs)("p",{className:"text-xs sm:text-sm font-semibold",children:["₹",e.price*e.quantity]})]})]},e.product._id))}),(0,s.jsxs)("div",{className:"border-t pt-3 sm:pt-4 space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-xs sm:text-sm",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Subtotal"}),(0,s.jsxs)("span",{className:"font-semibold",children:["₹",O.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-xs sm:text-sm",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Shipping/Handling Charges"}),(0,s.jsxs)("span",{className:"font-semibold",children:["₹",P.toLocaleString()]})]}),$&&(0,s.jsx)(s.Fragment,{children:_?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex justify-between text-xs sm:text-sm",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"CGST (9%)"}),(0,s.jsxs)("span",{className:"font-semibold",children:["₹",et.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-xs sm:text-sm",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"SGST (9%)"}),(0,s.jsxs)("span",{className:"font-semibold",children:["₹",er.toLocaleString()]})]})]}):(0,s.jsxs)("div",{className:"flex justify-between text-xs sm:text-sm",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"IGST (18%)"}),(0,s.jsxs)("span",{className:"font-semibold",children:["₹",ei.toLocaleString()]})]})}),!$&&(0,s.jsx)("div",{className:"text-xs text-muted-foreground italic",children:"Select address to see GST breakdown"}),(0,s.jsxs)("div",{className:"flex justify-between text-base sm:text-lg font-bold pt-2 border-t",children:[(0,s.jsx)("span",{children:"Total"}),(0,s.jsxs)("span",{className:"text-primary",children:["₹",el.toLocaleString()]})]})]}),(0,s.jsx)(l.Button,{className:"w-full h-11 sm:h-12 text-sm sm:text-base touch-manipulation",size:"lg",onClick:M,disabled:y||!h,children:y?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Q.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Placing Order..."]}):"Pay with Razorpay"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"Prepaid only — you will be redirected to PhonePe to complete payment."})]})]})})]})]})}e.s(["CheckoutContent",()=>et],88268)}]);