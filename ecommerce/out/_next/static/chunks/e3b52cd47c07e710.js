(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var t=e.i(43476),s=e.i(47163);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function r({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function n({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...a})}function i({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...a})}function l({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>l,"CardDescription",()=>i,"CardHeader",()=>r,"CardTitle",()=>n])},27341,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(81140),r=e.i(30030),n=e.i(42727),i=e.i(96626),l=e.i(48425),o=e.i(86318),d=e.i(69340),c=e.i(10772),m="Tabs",[u,x]=(0,r.createContextScope)(m,[n.createRovingFocusGroupScope]),p=(0,n.createRovingFocusGroupScope)(),[h,f]=u(m),g=s.forwardRef((e,s)=>{let{__scopeTabs:a,value:r,onValueChange:n,defaultValue:i,orientation:m="horizontal",dir:u,activationMode:x="automatic",...p}=e,f=(0,o.useDirection)(u),[g,b]=(0,d.useControllableState)({prop:r,onChange:n,defaultProp:i});return(0,t.jsx)(h,{scope:a,baseId:(0,c.useId)(),value:g,onValueChange:b,orientation:m,dir:f,activationMode:x,children:(0,t.jsx)(l.Primitive.div,{dir:f,"data-orientation":m,...p,ref:s})})});g.displayName=m;var b="TabsList",v=s.forwardRef((e,s)=>{let{__scopeTabs:a,loop:r=!0,...i}=e,o=f(b,a),d=p(a);return(0,t.jsx)(n.Root,{asChild:!0,...d,orientation:o.orientation,dir:o.dir,loop:r,children:(0,t.jsx)(l.Primitive.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:s})})});v.displayName=b;var j="TabsTrigger",N=s.forwardRef((e,s)=>{let{__scopeTabs:r,value:i,disabled:o=!1,...d}=e,c=f(j,r),m=p(r),u=T(c.baseId,i),x=C(c.baseId,i),h=i===c.value;return(0,t.jsx)(n.Item,{asChild:!0,...m,focusable:!o,active:h,children:(0,t.jsx)(l.Primitive.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":x,"data-state":h?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:u,...d,ref:s,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(i)}),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(i)}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==c.activationMode;h||o||!e||c.onValueChange(i)})})})});N.displayName=j;var w="TabsContent",y=s.forwardRef((e,a)=>{let{__scopeTabs:r,value:n,forceMount:o,children:d,...c}=e,m=f(w,r),u=T(m.baseId,n),x=C(m.baseId,n),p=n===m.value,h=s.useRef(p);return s.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(i.Presence,{present:o||p,children:({present:s})=>(0,t.jsx)(l.Primitive.div,{"data-state":p?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":u,hidden:!s,id:x,tabIndex:0,...c,ref:a,style:{...e.style,animationDuration:h.current?"0s":void 0},children:s&&d})})});function T(e,t){return`${e}-trigger-${t}`}function C(e,t){return`${e}-content-${t}`}y.displayName=w;var S=e.i(47163);function k({className:e,...s}){return(0,t.jsx)(g,{"data-slot":"tabs",className:(0,S.cn)("flex flex-col gap-2",e),...s})}function D({className:e,...s}){return(0,t.jsx)(v,{"data-slot":"tabs-list",className:(0,S.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...s})}function I({className:e,...s}){return(0,t.jsx)(N,{"data-slot":"tabs-trigger",className:(0,S.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s})}function L({className:e,...s}){return(0,t.jsx)(y,{"data-slot":"tabs-content",className:(0,S.cn)("flex-1 outline-none",e),...s})}e.s(["Tabs",()=>k,"TabsContent",()=>L,"TabsList",()=>D,"TabsTrigger",()=>I],27341)},91298,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566),r=e.i(22016),n=e.i(57688),i=e.i(67881),l=e.i(70065),o=e.i(94179),d=e.i(23750),c=e.i(31278),m=e.i(55436),u=e.i(88844),x=e.i(27341);let p="http://192.168.1.35:5000";function h(){let e=(0,a.useRouter)(),[h,f]=(0,s.useState)([]),[g,b]=(0,s.useState)(!0),[v,j]=(0,s.useState)(""),[N,w]=(0,s.useState)("all");(0,s.useEffect)(()=>{(async()=>{try{let t=localStorage.getItem("customerToken");if(!t)return void e.push("/login");let s=await fetch(`${p}/api/orders`,{headers:{Authorization:`Bearer ${t}`}});if(!s.ok)throw Error("Failed to fetch orders");let a=await s.json();a.success&&f(a.data)}catch(e){console.error("Error fetching orders:",e)}finally{b(!1)}})()},[e]);let y=(e=>{let t=h;if("all"!==e&&(t=t.filter(t=>t.status.toLowerCase()===e.toLowerCase())),v){let e=v.toLowerCase();t=t.filter(t=>t.orderNumber.toLowerCase().includes(e)||t.items.some(t=>t.name.toLowerCase().includes(e)))}return t.sort((e,t)=>{let s=new Date(e.createdAt).getTime();return new Date(t.createdAt).getTime()-s}),t})(N),T=({order:e})=>{let s=e.items.reduce((e,t)=>e+t.quantity,0);return(0,t.jsx)(l.Card,{className:"overflow-hidden",children:(0,t.jsxs)(l.CardContent,{className:"p-0",children:[(0,t.jsx)("div",{className:"border-b border-border bg-muted/30 p-4 sm:p-6",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsx)("h3",{className:"font-semibold text-base sm:text-lg",children:e.orderNumber}),(0,t.jsx)(o.Badge,{className:`${(e=>{switch(e.toLowerCase()){case"delivered":return"bg-green-500";case"shipped":return"bg-blue-500";case"processing":return"bg-yellow-500";case"pending":default:return"bg-gray-500";case"cancelled":return"bg-red-500"}})(e.status)} text-xs`,children:e.status.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")})]}),(0,t.jsxs)("p",{className:"text-xs sm:text-sm text-muted-foreground",children:["Order placed on ",new Date(e.createdAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:items-end gap-1",children:[(0,t.jsxs)("p",{className:"text-base sm:text-lg font-bold",children:["₹",e.total.toLocaleString()]}),(0,t.jsxs)("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[s," item(s)"]})]})]})}),(0,t.jsxs)("div",{className:"p-4 sm:p-6 space-y-3",children:[e.items.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start gap-3 pb-3 border-b last:border-0 last:pb-0",children:[(0,t.jsx)("div",{className:"relative h-12 w-12 sm:h-16 sm:w-16 flex-shrink-0 overflow-hidden rounded-lg bg-muted",children:e.image||e.productId?.images&&e.productId.images[0]?(0,t.jsx)(n.default,{src:e.image?`${p}${e.image}`:`${p}${e.productId?.images?.[0]}`,alt:e.name,fill:!0,className:"object-cover"}):(0,t.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,t.jsx)(u.Package,{className:"h-5 w-5 sm:h-6 sm:w-6 text-muted-foreground"})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"font-medium text-sm sm:text-base line-clamp-2",children:e.name}),(0,t.jsxs)("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1",children:["Qty: ",e.quantity," • ₹",e.price.toLocaleString()]})]})]},s)),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 pt-3",children:[(0,t.jsx)(r.default,{href:`/dashboard/orders/${e._id}`,className:"flex-1",children:(0,t.jsx)(i.Button,{variant:"outline",className:"w-full h-9 sm:h-10 text-xs sm:text-sm bg-transparent touch-manipulation",children:"View Details"})}),"delivered"===e.status&&(0,t.jsx)(i.Button,{variant:"outline",className:"flex-1 h-9 sm:h-10 text-xs sm:text-sm bg-transparent touch-manipulation",children:"Reorder"}),("shipped"===e.status||"packed"===e.status)&&(0,t.jsx)(r.default,{href:`/dashboard/orders/${e._id}`,className:"flex-1",children:(0,t.jsx)(i.Button,{variant:"outline",className:"w-full h-9 sm:h-10 text-xs sm:text-sm bg-transparent touch-manipulation",children:"Track Order"})})]})]})]})})};return(0,t.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[(0,t.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold mb-2",children:"My Orders"}),(0,t.jsx)("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Track and manage all your orders"})]}),g?(0,t.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,t.jsx)(c.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"mb-4 sm:mb-6",children:(0,t.jsxs)("div",{className:"relative max-w-md w-full",children:[(0,t.jsx)(m.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,t.jsx)(d.Input,{placeholder:"Search orders by ID or product name",className:"pl-10 h-10 sm:h-11 text-sm",value:v,onChange:e=>j(e.target.value)})]})}),(0,t.jsxs)(x.Tabs,{value:N,onValueChange:w,className:"space-y-4 sm:space-y-6",children:[(0,t.jsxs)(x.TabsList,{className:"w-full justify-start overflow-x-auto flex-nowrap h-auto p-1",children:[(0,t.jsxs)(x.TabsTrigger,{value:"all",className:"text-xs sm:text-sm whitespace-nowrap h-9 sm:h-10 px-2 sm:px-3 touch-manipulation",children:["All (",h.length,")"]}),(0,t.jsxs)(x.TabsTrigger,{value:"pending",className:"text-xs sm:text-sm whitespace-nowrap h-9 sm:h-10 px-2 sm:px-3 touch-manipulation",children:["Pending (",h.filter(e=>"pending"===e.status).length,")"]}),(0,t.jsxs)(x.TabsTrigger,{value:"processing",className:"text-xs sm:text-sm whitespace-nowrap h-9 sm:h-10 px-2 sm:px-3 touch-manipulation",children:["Processing (",h.filter(e=>"processing"===e.status).length,")"]}),(0,t.jsxs)(x.TabsTrigger,{value:"shipped",className:"text-xs sm:text-sm whitespace-nowrap h-9 sm:h-10 px-2 sm:px-3 touch-manipulation",children:["Shipped (",h.filter(e=>"shipped"===e.status).length,")"]}),(0,t.jsxs)(x.TabsTrigger,{value:"delivered",className:"text-xs sm:text-sm whitespace-nowrap h-9 sm:h-10 px-2 sm:px-3 touch-manipulation",children:["Delivered (",h.filter(e=>"delivered"===e.status).length,")"]}),(0,t.jsxs)(x.TabsTrigger,{value:"cancelled",className:"text-xs sm:text-sm whitespace-nowrap h-9 sm:h-10 px-2 sm:px-3 touch-manipulation",children:["Cancelled (",h.filter(e=>"cancelled"===e.status).length,")"]})]}),0===y.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(u.Package,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:"No orders found"}),(0,t.jsx)(r.default,{href:"/products",children:(0,t.jsx)(i.Button,{variant:"outline",children:"Start Shopping"})})]}):(0,t.jsx)("div",{className:"space-y-4",children:y.map(e=>(0,t.jsx)(T,{order:e},e._id))})]})]})]})}e.s(["OrdersContent",()=>h])}]);