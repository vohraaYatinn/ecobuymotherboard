(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var s=e.i(43476),t=e.i(47163);function a({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function r({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function l({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",e),...a})}function i({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,t.cn)("text-muted-foreground text-sm",e),...a})}function d({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>d,"CardDescription",()=>i,"CardHeader",()=>r,"CardTitle",()=>l])},15788,e=>{"use strict";let s=(0,e.i(75254).default)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);e.s(["Truck",()=>s],15788)},50965,e=>{"use strict";let s=(0,e.i(75254).default)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);e.s(["ShoppingBag",()=>s],50965)},3116,e=>{"use strict";let s=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>s],3116)},75231,e=>{"use strict";e.i(47167);var s=e.i(43476),t=e.i(71645),a=e.i(18566),r=e.i(22016),l=e.i(67881),i=e.i(70065),d=e.i(94179),c=e.i(31278),n=e.i(84614),o=e.i(50965),m=e.i(90597),x=e.i(46897),h=e.i(92270),u=e.i(88844),p=e.i(15788),j=e.i(95468),f=e.i(3116),g=e.i(73815),g=g;let N="http://192.168.1.43:5000";function b(){let e=(0,a.useRouter)(),[b,v]=(0,t.useState)(!0),[w,y]=(0,t.useState)(null),[C,k]=(0,t.useState)(null),[B,S]=(0,t.useState)([]),[T,D]=(0,t.useState)("");return((0,t.useEffect)(()=>{(async()=>{try{let s=localStorage.getItem("customerToken");if(!s)return void e.push("/login");let t=await fetch(`${N}/api/customer-auth/profile`,{headers:{Authorization:`Bearer ${s}`}});if(!t.ok)throw Error("Failed to fetch customer profile");let a=await t.json();a.success&&y(a.data);let r=await fetch(`${N}/api/orders/stats`,{headers:{Authorization:`Bearer ${s}`}});if(r.ok){let e=await r.json();e.success&&k(e.data)}let l=await fetch(`${N}/api/orders?limit=3`,{headers:{Authorization:`Bearer ${s}`}});if(l.ok){let e=await l.json();e.success&&S(e.data)}}catch(e){console.error("Error fetching dashboard data:",e),D(e.message||"Failed to load dashboard data")}finally{v(!1)}})()},[e]),b)?(0,s.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:(0,s.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,s.jsx)(c.Loader2,{className:"h-8 w-8 animate-spin text-primary"})})}):T?(0,s.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:(0,s.jsxs)("div",{className:"max-w-md mx-auto text-center",children:[(0,s.jsx)("p",{className:"text-destructive mb-4",children:T}),(0,s.jsx)(l.Button,{onClick:()=>e.push("/login"),children:"Go to Login"})]})}):(0,s.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[(0,s.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold mb-2",children:"My Dashboard"}),(0,s.jsx)("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Welcome back! Manage your account and orders"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 sm:gap-6",children:[(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsxs)(i.Card,{className:"sticky top-24",children:[(0,s.jsx)(i.CardHeader,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10",children:(0,s.jsx)(n.User,{className:"h-6 w-6 text-primary"})}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsx)(i.CardTitle,{className:"text-base sm:text-lg",children:w?.name||"Customer"}),(0,s.jsx)(i.CardDescription,{className:"text-xs sm:text-sm truncate",children:w?.mobile?`+${w.mobile}`:"No phone number"}),w?.email&&(0,s.jsx)(i.CardDescription,{className:"text-xs truncate",children:w.email})]})]})}),(0,s.jsxs)(i.CardContent,{className:"space-y-1",children:[(0,s.jsx)(r.default,{href:"/dashboard",children:(0,s.jsxs)(l.Button,{variant:"ghost",className:"w-full justify-start text-sm sm:text-base h-10 sm:h-11",children:[(0,s.jsx)(n.User,{className:"mr-2 h-4 w-4"}),"Dashboard"]})}),(0,s.jsx)(r.default,{href:"/dashboard/orders",children:(0,s.jsxs)(l.Button,{variant:"ghost",className:"w-full justify-start text-sm sm:text-base h-10 sm:h-11",children:[(0,s.jsx)(o.ShoppingBag,{className:"mr-2 h-4 w-4"}),"My Orders"]})}),(0,s.jsx)(r.default,{href:"/wishlist",children:(0,s.jsxs)(l.Button,{variant:"ghost",className:"w-full justify-start text-sm sm:text-base h-10 sm:h-11",children:[(0,s.jsx)(m.Heart,{className:"mr-2 h-4 w-4"}),"Wishlist"]})}),(0,s.jsx)(r.default,{href:"/dashboard/addresses",children:(0,s.jsxs)(l.Button,{variant:"ghost",className:"w-full justify-start text-sm sm:text-base h-10 sm:h-11",children:[(0,s.jsx)(x.MapPin,{className:"mr-2 h-4 w-4"}),"Addresses"]})}),(0,s.jsxs)(l.Button,{variant:"ghost",className:"w-full justify-start text-destructive text-sm sm:text-base h-10 sm:h-11",onClick:()=>{localStorage.removeItem("customerToken"),localStorage.removeItem("customerData"),window.dispatchEvent(new Event("auth-change")),e.push("/"),e.refresh()},children:[(0,s.jsx)(h.LogOut,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})}),(0,s.jsxs)("div",{className:"lg:col-span-3 space-y-4 sm:space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[(0,s.jsx)(i.Card,{children:(0,s.jsx)(i.CardContent,{className:"p-4 sm:p-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-full bg-blue-500/10",children:(0,s.jsx)(u.Package,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-500"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xl sm:text-2xl font-bold",children:C?.total||0}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Total Orders"})]})]})})}),(0,s.jsx)(i.Card,{children:(0,s.jsx)(i.CardContent,{className:"p-4 sm:p-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-full bg-yellow-500/10",children:(0,s.jsx)(f.Clock,{className:"h-5 w-5 sm:h-6 sm:w-6 text-yellow-500"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xl sm:text-2xl font-bold",children:C?.pending||0}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Pending"})]})]})})}),(0,s.jsx)(i.Card,{children:(0,s.jsx)(i.CardContent,{className:"p-4 sm:p-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-full bg-orange-500/10",children:(0,s.jsx)(p.Truck,{className:"h-5 w-5 sm:h-6 sm:w-6 text-orange-500"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xl sm:text-2xl font-bold",children:C?.shipped||0}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Shipping"})]})]})})}),(0,s.jsx)(i.Card,{children:(0,s.jsx)(i.CardContent,{className:"p-4 sm:p-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-full bg-green-500/10",children:(0,s.jsx)(j.CheckCircle2,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-500"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xl sm:text-2xl font-bold",children:C?.delivered||0}),(0,s.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Delivered"})]})]})})})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsx)(i.CardHeader,{children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.CardTitle,{className:"text-lg sm:text-xl",children:"Recent Orders"}),(0,s.jsx)(i.CardDescription,{className:"text-xs sm:text-sm",children:"Your latest order history"})]}),(0,s.jsx)(r.default,{href:"/dashboard/orders",children:(0,s.jsx)(l.Button,{variant:"outline",size:"sm",className:"text-xs sm:text-sm w-full sm:w-auto bg-transparent",children:"View All Orders"})})]})}),(0,s.jsx)(i.CardContent,{children:0===B.length?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:"No orders yet"}),(0,s.jsx)(r.default,{href:"/products",children:(0,s.jsx)(l.Button,{variant:"outline",children:"Start Shopping"})})]}):(0,s.jsx)("div",{className:"space-y-4",children:B.map(e=>{let t=e.items.reduce((e,s)=>e+s.quantity,0);return(0,s.jsx)(r.default,{href:`/dashboard/orders/${e._id}`,className:"block rounded-lg border border-border p-4 hover:bg-muted/50 transition-colors",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,s.jsx)("p",{className:"font-semibold text-sm sm:text-base",children:e.orderNumber}),(0,s.jsx)(d.Badge,{className:`${(e=>{switch(e.toLowerCase()){case"delivered":return"bg-green-500";case"shipped":return"bg-blue-500";case"processing":return"bg-yellow-500";case"pending":default:return"bg-gray-500";case"cancelled":return"bg-red-500"}})(e.status)} text-xs`,children:e.status.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")})]}),(0,s.jsxs)("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[new Date(e.createdAt).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})," ","• ",t," item",t>1?"s":""]})]}),(0,s.jsxs)("div",{className:"text-left sm:text-right",children:[(0,s.jsxs)("p",{className:"font-bold text-sm sm:text-base",children:["₹",e.total.toLocaleString()]}),(0,s.jsx)("p",{className:"text-xs text-primary hover:underline",children:"View Details →"})]})]})},e._id)})})})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsx)(i.CardHeader,{children:(0,s.jsx)(i.CardTitle,{className:"text-lg sm:text-xl",children:"Quick Actions"})}),(0,s.jsx)(i.CardContent,{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,s.jsx)(r.default,{href:"/dashboard/support",children:(0,s.jsxs)(l.Button,{variant:"outline",className:"w-full h-auto py-4 justify-start bg-transparent",children:[(0,s.jsx)(g.default,{className:"mr-2 h-5 w-5"}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("p",{className:"font-semibold text-sm",children:"Customer Support"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Get help with your orders"})]})]})}),(0,s.jsx)(r.default,{href:"/",children:(0,s.jsxs)(l.Button,{variant:"outline",className:"w-full h-auto py-4 justify-start bg-transparent",children:[(0,s.jsx)(o.ShoppingBag,{className:"mr-2 h-5 w-5"}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("p",{className:"font-semibold text-sm",children:"Continue Shopping"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Browse our products"})]})]})})]})})]})]})]})]})}e.s(["DashboardContent",()=>b],75231)}]);