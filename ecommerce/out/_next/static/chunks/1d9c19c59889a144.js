(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31439,e=>{"use strict";e.i(47167);var s=e.i(43476),t=e.i(71645),a=e.i(22016),r=e.i(70065),n=e.i(23750),l=e.i(67881),d=e.i(94179),i=e.i(62870),c=e.i(31278),o=e.i(55436),m=e.i(86536),u=e.i(75254);let h=(0,u.default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var x=e.i(40160),g=e.i(73375),p=e.i(63059);let j=(0,u.default)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var N=e.i(23945),f=e.i(27365),b=e.i(27612),y=e.i(67240),v=e.i(69638),S=e.i(73884),w=e.i(47627),C=e.i(25959),R=e.i(30374),T=e.i(10708),k=e.i(84762),I=e.i(81947);let A="https://api.elecobuy.com",B=e=>{switch(e.toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"confirmed":case"processing":case"return_picked_up":return"bg-blue-100 text-blue-800 border-blue-200";case"shipped":return"bg-purple-100 text-purple-800 border-purple-200";case"delivered":case"return_accepted":return"bg-green-100 text-green-800 border-green-200";case"cancelled":case"admin_review_required":case"return_rejected":return"bg-red-100 text-red-800 border-red-200";case"return_requested":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},D=e=>{let s="admin_review_required"===e?"Needs Reassign":e;return"Needs Reassign"===s?s:s.split(/[-_]/g).map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")},q=e=>{if(!e)return"bg-gray-100 text-gray-800 border-gray-200";switch(e.toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"booked":return"bg-blue-100 text-blue-800 border-blue-200";case"in_transit":return"bg-purple-100 text-purple-800 border-purple-200";case"out_for_delivery":return"bg-orange-100 text-orange-800 border-orange-200";case"delivered":return"bg-green-100 text-green-800 border-green-200";case"rto":case"failed":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},_=e=>e?e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"Not Set",P=e=>{if(!e)return"bg-gray-100 text-gray-800 border-gray-200";switch(e.toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"processing":return"bg-blue-100 text-blue-800 border-blue-200";case"completed":return"bg-green-100 text-green-800 border-green-200";case"failed":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},$=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"N/A",L=e=>{let s=(e.status||"").toLowerCase(),t=e.returnRequest?.type;return"return_picked_up"===s?{label:"packed up",className:"bg-blue-100 text-blue-800 border-blue-200"}:"accepted"===t||"return_accepted"===s?{label:"Return Pickup Pending",className:"bg-orange-100 text-orange-800 border-orange-200"}:null};function O(){let[e,u]=(0,t.useState)([]),[O,F]=(0,t.useState)(!0),[V,U]=(0,t.useState)(""),[M,E]=(0,t.useState)("all"),[z,H]=(0,t.useState)("all"),[W,J]=(0,t.useState)("all"),[K,X]=(0,t.useState)("all"),[Q,G]=(0,t.useState)("all"),[Y,Z]=(0,t.useState)(!1),[ee,es]=(0,t.useState)(1),[et,ea]=(0,t.useState)({page:1,limit:10,total:0,pages:0}),[er,en]=(0,t.useState)(null),[el,ed]=(0,t.useState)(!1),[ei,ec]=(0,t.useState)(!1),[eo,em]=(0,t.useState)(null),[eu,eh]=(0,t.useState)([]),[ex,eg]=(0,t.useState)(!1),[ep,ej]=(0,t.useState)(""),[eN,ef]=(0,t.useState)({status:""}),[eb,ey]=(0,t.useState)(!1),[ev,eS]=(0,t.useState)([]),[ew,eC]=(0,t.useState)(!1),[eR,eT]=(0,t.useState)(!1),[ek,eI]=(0,t.useState)(!1),[eA,eB]=(0,t.useState)(null),[eD,eq]=(0,t.useState)(!1),[e_,eP]=(0,t.useState)("");(0,t.useEffect)(()=>{e$()},[ee,M,z,W,K,Q,Y]),(0,t.useEffect)(()=>{eS([])},[e]),(0,t.useEffect)(()=>{eO()},[]);let e$=async()=>{try{F(!0);let e=localStorage.getItem("adminToken");if(!e)return;let s=new URLSearchParams({page:ee.toString(),limit:"10",sortBy:"createdAt",sortOrder:"desc",...V&&{search:V},..."all"!==M&&{status:M},..."all"!==z&&{paymentMethod:z},..."all"!==W&&{paymentStatus:W},..."all"!==K&&{vendorId:K},..."all"!==Q&&{assignmentMode:Q},...Y&&{showUncompletedOrders:"true"}}),t=await fetch(`${A}/api/admin/orders?${s}`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw Error("Failed to fetch orders");let a=await t.json();a.success&&(u(a.data),ea(a.pagination))}catch(e){console.error("Error fetching orders:",e)}finally{F(!1)}},eL=()=>{es(1),e$()},eO=async()=>{try{eg(!0);let e=await fetch(`${A}/api/vendors?status=approved&limit=100`),s=await e.json();s.success&&eh(s.data)}catch(e){console.error("Error fetching vendors:",e)}finally{eg(!1)}},eF=async()=>{if(eo)try{en(eo._id);let e=localStorage.getItem("adminToken");if(!e)return;let s=await fetch(`${A}/api/admin/orders/${eo._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({status:eN.status})}),t=await s.json();t.success?(ed(!1),em(null),ef({status:""}),e$()):alert(t.message||"Failed to update order")}catch(e){console.error("Error updating order:",e),alert("Network error. Please try again.")}finally{en(null)}},eV=async()=>{if(eo)try{en(eo._id);let e=localStorage.getItem("adminToken");if(!e)return;let s=await fetch(`${A}/api/admin/orders/${eo._id}/assign-vendor`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({vendorId:"none"===ep?null:ep})}),t=await s.json();t.success?(ec(!1),em(null),ej(""),e$()):alert(t.message||"Failed to assign vendor")}catch(e){console.error("Error assigning vendor:",e),alert("Network error. Please try again.")}finally{en(null)}},eU=async e=>{if(confirm("Are you sure you want to cancel this order?"))try{let s=localStorage.getItem("adminToken");if(!s)return;let t=await fetch(`${A}/api/admin/orders/${e}/cancel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({})}),a=await t.json();a.success?e$():alert(a.message||"Failed to cancel order")}catch(e){console.error("Error deleting order:",e),alert("Network error. Please try again.")}},eM=e=>{ev.includes(e)?eS(ev.filter(s=>s!==e)):eS([...ev,e])},eE=()=>{ev.length===e.length?eS([]):eS(e.map(e=>e._id))},ez=async()=>{if(0===ev.length)return void alert("Please select at least one order to delete");try{eC(!0);let e=localStorage.getItem("adminToken");if(!e)return void alert("Please login again");let s=await fetch(`${A}/api/admin/orders/bulk-delete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({orderIds:ev})}),t=await s.json();t.success?(eT(!1),eS([]),e$(),alert(`Successfully deleted ${t.data.deletedCount} order(s)`)):alert(t.message||"Failed to delete orders")}catch(e){console.error("Error bulk deleting orders:",e),alert("Network error. Please try again.")}finally{eC(!1)}},eH=e=>{eB(e),eP(""),eI(!0)},eW=async()=>{if(eA){eq(!0);try{let e=localStorage.getItem("adminToken");if(!e)return void alert("Please login again");let s=await fetch(`${A}/api/admin/orders/${eA._id}/return/accept`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({adminNotes:e_.trim()||void 0})}),t=await s.json();t.success?(eI(!1),eB(null),eP(""),e$(),alert("Return request accepted successfully")):alert(t.message||"Failed to accept return request")}catch(e){console.error("Error accepting return request:",e),alert("Network error. Please try again.")}finally{eq(!1)}}},eJ=async()=>{if(eA){if(!e_.trim())return void alert("Please provide a reason for denying the return request");eq(!0);try{let e=localStorage.getItem("adminToken");if(!e)return void alert("Please login again");let s=await fetch(`${A}/api/admin/orders/${eA._id}/return/deny`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({adminNotes:e_.trim()})}),t=await s.json();t.success?(eI(!1),eB(null),eP(""),e$(),alert("Return request denied successfully")):alert(t.message||"Failed to deny return request")}catch(e){console.error("Error denying return request:",e),alert("Network error. Please try again.")}finally{eq(!1)}}},eK=e=>{em(e),ef({status:e.status}),ed(!0)},eX=e=>"object"==typeof e.customerId&&null!==e.customerId?{name:e.customerId.name||"N/A",mobile:e.customerId.mobile||"N/A"}:{name:"N/A",mobile:"N/A"},eQ=e=>"object"==typeof e.vendorId&&null!==e.vendorId?e.vendorId:null,eG=async()=>{try{ey(!0);let e=localStorage.getItem("adminToken");if(!e)return void alert("Please login to export orders");let s=new URLSearchParams({page:"1",limit:"10000",...V&&{search:V},..."all"!==M&&{status:M},..."all"!==z&&{paymentMethod:z},..."all"!==W&&{paymentStatus:W},..."all"!==K&&{vendorId:K},..."all"!==Q&&{assignmentMode:Q},...Y&&{showUncompletedOrders:"true"}}),t=await fetch(`${A}/api/admin/orders?${s}`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw Error("Failed to fetch orders for export");let a=await t.json();if(!a.success||!a.data)throw Error("No orders data available");let r=a.data.map(e=>{let s=eX(e),t=eQ(e),a="object"==typeof e.shippingAddress&&null!==e.shippingAddress?e.shippingAddress:null,r=L(e),n=e.items.map(e=>`${e.name} (${e.brand})`).join("; "),l=e.items.map(e=>`${e.name} (${e.brand}) - Qty: ${e.quantity} - ₹${e.price}`).join("; "),d=e.items.reduce((e,s)=>e+s.quantity,0);return[e.orderNumber||"",new Date(e.createdAt).toLocaleDateString("en-IN"),s.name||"",s.mobile||"","object"==typeof e.customerId&&null!==e.customerId&&e.customerId.email||"",t?.name||"Unassigned",t?.phone||"",e.assignmentMode?"assigned-by-admin"===e.assignmentMode?"By Admin":"By Vendor":"",n,l,d.toString(),`₹${e.subtotal.toLocaleString()}`,`₹${e.shipping.toLocaleString()}`,`₹${e.total.toLocaleString()}`,e.paymentMethod.toUpperCase(),D(e.paymentStatus),D(e.status),r?.label||"",e.awbNumber||"",_(e.dtdcStatus),$(e.refundStatus),e.refundTransactionId||"",a?`${a.address1||""}`:"",a?.city||"",a?.state||"",a?.postcode||"",a?.phone||""]}),n=["Order Number,Order Date,Customer Name,Customer Mobile,Customer Email,Vendor Name,Vendor Phone,Assignment Mode,Items,Item Details,Quantity,Subtotal,Shipping,Total,Payment Method,Payment Status,Order Status,Return Pickup Status,AWB Number,DTDC Status,Refund Status,Refund Transaction ID,Shipping Address,City,State,Postcode,Phone",...r.map(e=>e.map(e=>`"${String(e).replace(/"/g,'""')}"`).join(","))].join("\n"),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),d=window.URL.createObjectURL(l),i=document.createElement("a"),c=new Date().toISOString().split("T")[0];i.href=d,i.download=`orders_export_${c}.csv`,document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(d),document.body.removeChild(i)}catch(e){console.error("Error exporting orders:",e),alert("Failed to export orders. Please try again.")}finally{ey(!1)}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Orders Management"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"View and manage all customer orders"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(l.Button,{variant:"outline",size:"sm",className:"gap-2 bg-transparent",onClick:eG,disabled:eb,children:eb?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Loader2,{className:"h-4 w-4 animate-spin"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Exporting..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.FileDown,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Export"})]})}),(0,s.jsxs)(l.Button,{variant:"outline",size:"sm",className:"gap-2 bg-transparent",onClick:e$,children:[(0,s.jsx)(x.Download,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]}),(0,s.jsx)(r.Card,{className:"shadow-sm",children:(0,s.jsxs)(r.CardContent,{className:"pt-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(o.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,s.jsx)(n.Input,{placeholder:"Search by Order ID, Customer Contact, Product Name...",className:"pl-10",value:V,onChange:e=>U(e.target.value),onKeyDown:e=>{"Enter"===e.key&&eL()}})]}),(0,s.jsxs)(l.Button,{onClick:eL,className:"sm:w-auto",children:[(0,s.jsx)(o.Search,{className:"h-4 w-4 mr-2"}),"Search"]}),(0,s.jsxs)(i.Select,{value:M,onValueChange:E,children:[(0,s.jsx)(i.SelectTrigger,{className:"w-full sm:w-[180px]",children:(0,s.jsx)(i.SelectValue,{placeholder:"Status"})}),(0,s.jsxs)(i.SelectContent,{children:[(0,s.jsx)(i.SelectItem,{value:"all",children:"All Status"}),(0,s.jsx)(i.SelectItem,{value:"pending",children:"Pending"}),(0,s.jsx)(i.SelectItem,{value:"confirmed",children:"Confirmed"}),(0,s.jsx)(i.SelectItem,{value:"processing",children:"Processing"}),(0,s.jsx)(i.SelectItem,{value:"shipped",children:"Shipped"}),(0,s.jsx)(i.SelectItem,{value:"delivered",children:"Delivered"}),(0,s.jsx)(i.SelectItem,{value:"cancelled",children:"Cancelled"})]})]}),(0,s.jsxs)(i.Select,{value:z,onValueChange:H,children:[(0,s.jsx)(i.SelectTrigger,{className:"w-full sm:w-[180px]",children:(0,s.jsx)(i.SelectValue,{placeholder:"Payment Type"})}),(0,s.jsxs)(i.SelectContent,{children:[(0,s.jsx)(i.SelectItem,{value:"all",children:"All Payments"}),(0,s.jsx)(i.SelectItem,{value:"cod",children:"COD"}),(0,s.jsx)(i.SelectItem,{value:"online",children:"Online"}),(0,s.jsx)(i.SelectItem,{value:"wallet",children:"Wallet"})]})]}),(0,s.jsxs)(i.Select,{value:W,onValueChange:J,children:[(0,s.jsx)(i.SelectTrigger,{className:"w-full sm:w-[180px]",children:(0,s.jsx)(i.SelectValue,{placeholder:"Payment Status"})}),(0,s.jsxs)(i.SelectContent,{children:[(0,s.jsx)(i.SelectItem,{value:"all",children:"All Payment Status"}),(0,s.jsx)(i.SelectItem,{value:"pending",children:"Pending"}),(0,s.jsx)(i.SelectItem,{value:"paid",children:"Paid"}),(0,s.jsx)(i.SelectItem,{value:"failed",children:"Failed"}),(0,s.jsx)(i.SelectItem,{value:"refunded",children:"Refunded"})]})]}),(0,s.jsxs)(i.Select,{value:K,onValueChange:X,children:[(0,s.jsx)(i.SelectTrigger,{className:"w-full sm:w-[180px]",children:(0,s.jsx)(i.SelectValue,{placeholder:"Vendor"})}),(0,s.jsxs)(i.SelectContent,{children:[(0,s.jsx)(i.SelectItem,{value:"all",children:"All Vendors"}),(0,s.jsx)(i.SelectItem,{value:"unassigned",children:"Unassigned"}),eu.map(e=>(0,s.jsx)(i.SelectItem,{value:e._id,children:e.name},e._id))]})]}),(0,s.jsxs)(i.Select,{value:Q,onValueChange:G,children:[(0,s.jsx)(i.SelectTrigger,{className:"w-full sm:w-[180px]",children:(0,s.jsx)(i.SelectValue,{placeholder:"Assignment"})}),(0,s.jsxs)(i.SelectContent,{children:[(0,s.jsx)(i.SelectItem,{value:"all",children:"All Modes"}),(0,s.jsx)(i.SelectItem,{value:"assigned-by-admin",children:"By Admin"}),(0,s.jsx)(i.SelectItem,{value:"accepted-by-vendor",children:"By Vendor"})]})]})]}),(0,s.jsxs)("div",{className:"mt-4 flex items-center space-x-2",children:[(0,s.jsx)(C.Checkbox,{id:"show-uncompleted",checked:Y,onCheckedChange:e=>Z(!0===e)}),(0,s.jsx)(T.Label,{htmlFor:"show-uncompleted",className:"text-sm font-medium cursor-pointer",children:"Show uncompleted orders by customer"})]})]})}),(0,s.jsxs)(r.Card,{className:"shadow-md border-t-4 border-t-primary",children:[(0,s.jsx)(r.CardHeader,{className:"bg-gradient-to-r from-primary/5 to-accent/5",children:(0,s.jsxs)(r.CardTitle,{className:"text-lg",children:["All Orders (",et.total,") - Page ",et.page," of ",et.pages]})}),(0,s.jsx)(r.CardContent,{className:"p-0",children:O?(0,s.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,s.jsx)(c.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):0===e.length?(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"No orders found"})}):(0,s.jsxs)(s.Fragment,{children:[!O&&e.length>0&&(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 p-4 bg-muted/50 border-b",children:[(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(C.Checkbox,{id:"select-all",checked:ev.length===e.length&&e.length>0,onCheckedChange:eE}),(0,s.jsxs)(T.Label,{htmlFor:"select-all",className:"text-sm font-medium cursor-pointer",children:["Select All (",ev.length," selected)"]})]})}),(0,s.jsx)("div",{className:"flex gap-2",children:(0,s.jsx)(l.Button,{variant:"destructive",onClick:()=>eT(!0),disabled:0===ev.length||ew,className:"gap-2",children:ew?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Loader2,{className:"h-4 w-4 animate-spin"}),"Deleting..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b.Trash2,{className:"h-4 w-4"}),"Bulk Delete (",ev.length,")"]})})})]}),(0,s.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,s.jsxs)(w.Table,{children:[(0,s.jsx)(w.TableHeader,{children:(0,s.jsxs)(w.TableRow,{className:"bg-muted/50",children:[(0,s.jsx)(w.TableHead,{className:"font-semibold w-12",children:(0,s.jsx)(C.Checkbox,{checked:ev.length===e.length&&e.length>0,onCheckedChange:eE})}),(0,s.jsx)(w.TableHead,{className:"font-semibold",children:"Order Number"}),(0,s.jsx)(w.TableHead,{className:"font-semibold",children:"Customer"}),(0,s.jsx)(w.TableHead,{className:"font-semibold",children:"Vendor"}),(0,s.jsx)(w.TableHead,{className:"font-semibold",children:"Assignment"}),(0,s.jsx)(w.TableHead,{className:"font-semibold",children:"Items"}),(0,s.jsx)(w.TableHead,{className:"font-semibold",children:"Payment"}),(0,s.jsx)(w.TableHead,{className:"font-semibold",children:"Status"}),(0,s.jsx)(w.TableHead,{className:"font-semibold",children:"Return Pickup"}),(0,s.jsx)(w.TableHead,{className:"font-semibold",children:"DTDC Status"}),(0,s.jsx)(w.TableHead,{className:"font-semibold",children:"Refund Status"}),(0,s.jsx)(w.TableHead,{className:"font-semibold",children:"Total"}),(0,s.jsx)(w.TableHead,{className:"font-semibold",children:"Date"}),(0,s.jsx)(w.TableHead,{className:"font-semibold text-right",children:"Actions"})]})}),(0,s.jsx)(w.TableBody,{children:e.map(e=>{let t=eX(e),r=eQ(e),n=e.items.reduce((e,s)=>e+s.quantity,0),i=L(e),c=!["cancelled","shipped","delivered"].includes((e.status||"").toLowerCase())&&!e.awbNumber;return(0,s.jsxs)(w.TableRow,{className:"hover:bg-muted/30 transition-colors",children:[(0,s.jsx)(w.TableCell,{children:(0,s.jsx)(C.Checkbox,{checked:ev.includes(e._id),onCheckedChange:()=>eM(e._id)})}),(0,s.jsx)(w.TableCell,{className:"font-medium text-primary",children:(0,s.jsx)(a.default,{href:`/admin/orders/${e._id}`,className:"hover:underline",children:e.orderNumber})}),(0,s.jsx)(w.TableCell,{className:"text-sm",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:t.name}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:t.mobile})]})}),(0,s.jsx)(w.TableCell,{className:"text-sm",children:r?(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:r.name}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:r.phone}),r.address&&(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[r.address.city,", ",r.address.state]})]}):(0,s.jsx)(d.Badge,{variant:"outline",className:"text-xs",children:"Unassigned"})}),(0,s.jsx)(w.TableCell,{className:"text-xs",children:e.assignmentMode?(0,s.jsx)(d.Badge,{variant:"assigned-by-admin"===e.assignmentMode?"secondary":"default",className:"text-[10px] px-1.5 py-0.5",title:"assigned-by-admin"===e.assignmentMode?"Assigned by Admin":"Accepted by Vendor",children:"assigned-by-admin"===e.assignmentMode?"By Admin":"By Vendor"}):(0,s.jsx)("span",{className:"text-muted-foreground",children:"-"})}),(0,s.jsx)(w.TableCell,{className:"text-sm",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-medium",children:[n," item(s)"]}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.items[0]?.name||"N/A",e.items.length>1&&` +${e.items.length-1} more`]})]})}),(0,s.jsx)(w.TableCell,{children:(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(d.Badge,{variant:"cod"===e.paymentMethod?"secondary":"default",className:"text-xs",children:e.paymentMethod.toUpperCase()}),(0,s.jsx)("br",{}),(0,s.jsx)(d.Badge,{variant:"paid"===e.paymentStatus?"default":"failed"===e.paymentStatus?"destructive":"secondary",className:"text-xs",children:D(e.paymentStatus)})]})}),(0,s.jsx)(w.TableCell,{children:(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(d.Badge,{asChild:!0,className:`${B(e.status)} cursor-pointer`,title:"View order details",children:(0,s.jsx)(a.default,{href:`/admin/orders/${e._id}`,children:D(e.status)})}),e.returnRequest&&e.returnRequest.type&&(0,s.jsxs)(d.Badge,{variant:"pending"===e.returnRequest.type?"secondary":"accepted"===e.returnRequest.type?"default":"destructive",className:"text-xs ml-1",children:[(0,s.jsx)(y.RotateCcw,{className:"h-3 w-3 mr-1 inline"}),"Return ",e.returnRequest.type]})]})}),(0,s.jsx)(w.TableCell,{children:i?(0,s.jsx)(d.Badge,{className:i.className,children:i.label}):(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"-"})}),(0,s.jsx)(w.TableCell,{children:e.awbNumber?(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(d.Badge,{className:q(e.dtdcStatus),children:_(e.dtdcStatus)}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["AWB: ",e.awbNumber]})]}):(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"-"})}),(0,s.jsx)(w.TableCell,{children:e.refundStatus?(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(d.Badge,{className:P(e.refundStatus),children:$(e.refundStatus)}),e.refundTransactionId&&(0,s.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["ID: ",e.refundTransactionId.slice(0,12),"..."]})]}):(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"-"})}),(0,s.jsxs)(w.TableCell,{className:"font-semibold",children:["₹",e.total.toLocaleString()]}),(0,s.jsx)(w.TableCell,{className:"text-sm text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}),(0,s.jsx)(w.TableCell,{className:"text-right",children:(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(a.default,{href:`/admin/orders/${e._id}`,children:(0,s.jsxs)(l.Button,{variant:"ghost",size:"sm",className:"gap-2",children:[(0,s.jsx)(m.Eye,{className:"h-4 w-4"}),"View"]})}),(0,s.jsxs)(l.Button,{variant:"ghost",size:"sm",className:"gap-2",onClick:()=>eK(e),children:[(0,s.jsx)(h,{className:"h-4 w-4"}),"Edit"]}),(0,s.jsxs)(l.Button,{variant:"ghost",size:"sm",className:"gap-2 text-red-600 hover:text-red-700",onClick:()=>eU(e._id),disabled:!c,title:c?"Cancel order as admin (refund attempted immediately)":"Cannot cancel shipped/delivered/cancelled orders (or orders with shipment created)",children:[(0,s.jsx)(S.XCircle,{className:"h-4 w-4"}),"Cancel"]}),e.returnRequest&&"pending"===e.returnRequest.type&&(0,s.jsxs)(l.Button,{variant:"ghost",size:"sm",className:"gap-2 text-orange-600 hover:text-orange-700",onClick:()=>eH(e),title:"Review Return Request",children:[(0,s.jsx)(y.RotateCcw,{className:"h-4 w-4"}),"Return"]})]})})]},e._id)})})]})}),(0,s.jsx)("div",{className:"lg:hidden divide-y divide-border",children:e.map(e=>{let t,r=eX(e),n=eQ(e),i=e.items.reduce((e,s)=>e+s.quantity,0),c=L(e),o=!["cancelled","shipped","delivered"].includes((e.status||"").toLowerCase())&&!e.awbNumber;return(0,s.jsx)("div",{className:"p-4 hover:bg-muted/30 transition-colors",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(C.Checkbox,{checked:ev.includes(e._id),onCheckedChange:()=>eM(e._id)}),(0,s.jsx)(a.default,{href:`/admin/orders/${e._id}`,children:(0,s.jsx)("h3",{className:"font-semibold text-primary hover:underline",children:e.orderNumber})})]}),(0,s.jsx)(d.Badge,{className:B(e.status),children:D(e.status)})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Customer:"}),(0,s.jsx)("p",{className:"font-medium",children:r.name}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:r.mobile})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Vendor:"}),n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"font-medium",children:n.name}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:n.phone}),e.assignmentMode&&(0,s.jsx)(d.Badge,{variant:"assigned-by-admin"===e.assignmentMode?"secondary":"default",className:"text-[10px] mt-1 px-1.5 py-0",title:"assigned-by-admin"===e.assignmentMode?"Assigned by Admin":"Accepted by Vendor",children:"assigned-by-admin"===e.assignmentMode?"By Admin":"By Vendor"})]}):(0,s.jsx)(d.Badge,{variant:"outline",className:"text-xs mt-1",children:"Unassigned"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Items:"}),(0,s.jsxs)("p",{className:"font-medium",children:[i," item(s)"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Payment:"}),(0,s.jsx)("p",{className:"font-medium",children:e.paymentMethod.toUpperCase()}),(0,s.jsx)(d.Badge,{variant:"paid"===e.paymentStatus?"default":"failed"===e.paymentStatus?"destructive":"secondary",className:"text-xs mt-1",children:D(e.paymentStatus)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Total:"}),(0,s.jsxs)("p",{className:"font-semibold text-green-600",children:["₹",e.total.toLocaleString()]})]}),e.awbNumber&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"DTDC Status:"}),(0,s.jsxs)("div",{className:"mt-1 space-y-1",children:[(0,s.jsx)(d.Badge,{className:q(e.dtdcStatus),children:_(e.dtdcStatus)}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["AWB: ",e.awbNumber]})]})]}),e.returnAwbNumber&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Return AWB:"}),(0,s.jsxs)("div",{className:"mt-1 space-y-1",children:[e.returnDtdcStatus&&(0,s.jsx)(d.Badge,{className:q(e.returnDtdcStatus),children:_(e.returnDtdcStatus)}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["AWB: ",e.returnAwbNumber]}),(0,s.jsx)("a",{href:(t=e.returnAwbNumber,`https://www.dtdc.com/track-your-shipment/?awb=${encodeURIComponent(t)}`),target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary underline",children:"Track return in DTDC"})]})]}),e.refundStatus&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Refund Status:"}),(0,s.jsxs)("div",{className:"mt-1 space-y-1",children:[(0,s.jsx)(d.Badge,{className:P(e.refundStatus),children:$(e.refundStatus)}),e.refundTransactionId&&(0,s.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["ID: ",e.refundTransactionId.slice(0,12),"..."]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Status:"}),(0,s.jsxs)("div",{className:"mt-1 space-y-1",children:[(0,s.jsx)(d.Badge,{asChild:!0,className:`${B(e.status)} cursor-pointer`,title:"View order details",children:(0,s.jsx)(a.default,{href:`/admin/orders/${e._id}`,children:D(e.status)})}),e.returnRequest&&e.returnRequest.type&&(0,s.jsxs)(d.Badge,{variant:"pending"===e.returnRequest.type?"secondary":"accepted"===e.returnRequest.type?"default":"destructive",className:"text-xs ml-1",children:[(0,s.jsx)(y.RotateCcw,{className:"h-3 w-3 mr-1 inline"}),"Return ",e.returnRequest.type]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Return Pickup:"}),(0,s.jsx)("div",{className:"mt-1",children:c?(0,s.jsx)(d.Badge,{className:c.className,children:c.label}):(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"-"})})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[(0,s.jsx)(a.default,{href:`/admin/orders/${e._id}`,children:(0,s.jsxs)(l.Button,{variant:"outline",size:"sm",className:"gap-2 bg-transparent",children:[(0,s.jsx)(m.Eye,{className:"h-4 w-4"}),"View"]})}),(0,s.jsxs)(l.Button,{variant:"outline",size:"sm",className:"gap-2 bg-transparent",onClick:()=>eK(e),children:[(0,s.jsx)(h,{className:"h-4 w-4"}),"Edit"]}),(0,s.jsxs)(l.Button,{variant:"destructive",size:"sm",className:"gap-2",onClick:()=>eU(e._id),disabled:!o,children:[(0,s.jsx)(S.XCircle,{className:"h-4 w-4"}),"Cancel"]}),e.returnRequest&&"pending"===e.returnRequest.type&&(0,s.jsxs)(l.Button,{variant:"outline",size:"sm",className:"gap-2 bg-transparent text-orange-600 hover:text-orange-700",onClick:()=>eH(e),children:[(0,s.jsx)(y.RotateCcw,{className:"h-4 w-4"}),"Return"]})]})]})},e._id)})})]})})]}),et.pages>1&&(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Showing ",(et.page-1)*et.limit+1," to"," ",Math.min(et.page*et.limit,et.total)," of ",et.total," orders"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>es(e=>Math.max(1,e-1)),disabled:1===ee||O,children:[(0,s.jsx)(g.ChevronLeft,{className:"h-4 w-4"}),"Previous"]}),(0,s.jsxs)("div",{className:"text-sm",children:["Page ",et.page," of ",et.pages]}),(0,s.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>es(e=>Math.min(et.pages,e+1)),disabled:ee===et.pages||O,children:["Next",(0,s.jsx)(p.ChevronRight,{className:"h-4 w-4"})]})]})]}),(0,s.jsx)(R.Dialog,{open:el,onOpenChange:ed,children:(0,s.jsxs)(R.DialogContent,{children:[(0,s.jsxs)(R.DialogHeader,{children:[(0,s.jsx)(R.DialogTitle,{children:"Update Order"}),(0,s.jsx)(R.DialogDescription,{children:"Update order status and payment information"})]}),eo&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(T.Label,{children:"Order Number"}),(0,s.jsx)("p",{className:"font-semibold",children:eo.orderNumber})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(T.Label,{htmlFor:"status",children:"Order Status"}),(0,s.jsxs)(i.Select,{value:eN.status,onValueChange:e=>ef({...eN,status:e}),children:[(0,s.jsx)(i.SelectTrigger,{children:(0,s.jsx)(i.SelectValue,{})}),(0,s.jsxs)(i.SelectContent,{children:[(0,s.jsx)(i.SelectItem,{value:"pending",children:"Pending"}),(0,s.jsx)(i.SelectItem,{value:"confirmed",children:"Confirmed"}),(0,s.jsx)(i.SelectItem,{value:"processing",children:"Processing"}),(0,s.jsx)(i.SelectItem,{value:"admin_review_required",children:"Needs Reassign"}),(0,s.jsx)(i.SelectItem,{value:"processing",children:"Processing"}),(0,s.jsx)(i.SelectItem,{value:"admin_review_required",children:"Needs Reassign"}),(0,s.jsx)(i.SelectItem,{value:"shipped",children:"Shipped"}),(0,s.jsx)(i.SelectItem,{value:"delivered",children:"Delivered"}),(0,s.jsx)(i.SelectItem,{value:"cancelled",children:"Cancelled"}),(0,s.jsx)(i.SelectItem,{value:"return_requested",children:"Return Requested"}),(0,s.jsx)(i.SelectItem,{value:"return_accepted",children:"Return Accepted"}),(0,s.jsx)(i.SelectItem,{value:"return_rejected",children:"Return Rejected"}),(0,s.jsx)(i.SelectItem,{value:"return_picked_up",children:"Return packed up"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(T.Label,{htmlFor:"paymentStatus",children:"Payment Status"}),(0,s.jsx)("p",{className:"font-semibold mt-1",children:D(eo.paymentStatus)}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Payment status is updated automatically and cannot be changed here."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(T.Label,{htmlFor:"paymentMethod",children:"Payment Method"}),(0,s.jsx)("p",{className:"font-semibold mt-1",children:eo.paymentMethod.toUpperCase()}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Payment method is set when the order is created and cannot be changed here."})]}),(0,s.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,s.jsx)(l.Button,{onClick:eF,disabled:er===eo._id,className:"flex-1",children:er===eo._id?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Updating..."]}):"Update Order"}),(0,s.jsx)(l.Button,{variant:"outline",onClick:()=>ed(!1),children:"Cancel"})]})]})]})}),(0,s.jsx)(R.Dialog,{open:ei,onOpenChange:ec,children:(0,s.jsxs)(R.DialogContent,{children:[(0,s.jsxs)(R.DialogHeader,{children:[(0,s.jsx)(R.DialogTitle,{children:"Assign Vendor to Order"}),(0,s.jsx)(R.DialogDescription,{children:"Select a vendor to assign to this order"})]}),eo&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(T.Label,{children:"Order Number"}),(0,s.jsx)("p",{className:"font-semibold",children:eo.orderNumber})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(T.Label,{htmlFor:"vendor",children:"Select Vendor"}),ex?(0,s.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,s.jsx)(c.Loader2,{className:"h-4 w-4 animate-spin text-primary"})}):(0,s.jsxs)(i.Select,{value:ep,onValueChange:ej,children:[(0,s.jsx)(i.SelectTrigger,{children:(0,s.jsx)(i.SelectValue,{placeholder:"Select a vendor"})}),(0,s.jsxs)(i.SelectContent,{children:[(0,s.jsx)(i.SelectItem,{value:"none",children:"Unassign (No Vendor)"}),eu.map(e=>(0,s.jsx)(i.SelectItem,{value:e._id,children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(N.Store,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:e.name}),e.address&&(0,s.jsxs)("span",{className:"text-xs text-muted-foreground",children:["- ",e.address.city,", ",e.address.state]})]})},e._id))]})]})]}),0===eu.length&&!ex&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"No approved vendors available"}),(0,s.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,s.jsx)(l.Button,{onClick:eV,disabled:er===eo._id||ex,className:"flex-1",children:er===eo._id?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Assigning..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j,{className:"h-4 w-4 mr-2"}),"none"===ep?"Unassign Vendor":"Assign Vendor"]})}),(0,s.jsx)(l.Button,{variant:"outline",onClick:()=>ec(!1),children:"Cancel"})]})]})]})}),(0,s.jsx)(R.Dialog,{open:eR,onOpenChange:eT,children:(0,s.jsxs)(R.DialogContent,{children:[(0,s.jsxs)(R.DialogHeader,{children:[(0,s.jsx)(R.DialogTitle,{children:"Confirm Bulk Delete"}),(0,s.jsxs)(R.DialogDescription,{children:["This will permanently delete ",ev.length," order(s) and remove them from records. This action cannot be undone."]})]}),(0,s.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,s.jsx)(l.Button,{variant:"destructive",onClick:ez,disabled:ew||0===ev.length,className:"flex-1",children:ew?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b.Trash2,{className:"h-4 w-4 mr-2"}),"Delete ",ev.length," Order(s)"]})}),(0,s.jsx)(l.Button,{variant:"outline",onClick:()=>eT(!1),disabled:ew,children:"Cancel"})]})]})}),(0,s.jsx)(R.Dialog,{open:ek,onOpenChange:eI,children:(0,s.jsxs)(R.DialogContent,{className:"max-w-2xl",children:[(0,s.jsxs)(R.DialogHeader,{children:[(0,s.jsxs)(R.DialogTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(y.RotateCcw,{className:"h-5 w-5"}),"Review Return Request"]}),(0,s.jsx)(R.DialogDescription,{children:"Review and accept or deny the return request for this order"})]}),eA&&eA.returnRequest&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(T.Label,{children:"Order Number"}),(0,s.jsx)("p",{className:"font-semibold",children:eA.orderNumber})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(T.Label,{children:"Customer Return Reason"}),(0,s.jsx)(I.Alert,{className:"mt-2",children:(0,s.jsx)(I.AlertDescription,{children:eA.returnRequest.reason})})]}),eA.returnRequest.requestedAt&&(0,s.jsxs)("div",{children:[(0,s.jsx)(T.Label,{children:"Requested At"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date(eA.returnRequest.requestedAt).toLocaleString("en-IN")})]}),eA.returnRequest.attachments&&eA.returnRequest.attachments.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)(T.Label,{children:"Customer Uploads"}),(0,s.jsx)("ul",{className:"mt-2 space-y-1 text-sm",children:eA.returnRequest.attachments.map((e,t)=>{var a;return(0,s.jsxs)("li",{className:"flex items-center justify-between gap-2",children:[(0,s.jsx)("a",{href:(a=e.url)?a.startsWith("http")?a:`${A}${a}`:"",target:"_blank",rel:"noopener noreferrer",className:"text-primary underline",children:e.originalName||e.url?.split("/").pop()}),(0,s.jsxs)("span",{className:"text-xs text-muted-foreground",children:[(e.mimeType?.split("/")?.[0]||"file").toUpperCase()," ",(e=>{if(!e)return"";let s=e/1024/1024;return s>=1?`${s.toFixed(1)} MB`:`${(e/1024).toFixed(0)} KB`})(e.size)]})]},`${e.url}-${t}`)})})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(T.Label,{htmlFor:"adminNotes",children:["Admin Notes ","pending"===eA.returnRequest.type&&"(Required for denial)"]}),(0,s.jsx)(k.Textarea,{id:"adminNotes",placeholder:"Add notes about your decision (required if denying)...",value:e_,onChange:e=>eP(e.target.value),rows:4,className:"mt-2"})]}),"pending"===eA.returnRequest.type&&(0,s.jsxs)("div",{className:"flex gap-2 pt-4 border-t",children:[(0,s.jsx)(l.Button,{onClick:eW,disabled:eD,className:"flex-1 bg-green-600 hover:bg-green-700",children:eD?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.CheckCircle,{className:"h-4 w-4 mr-2"}),"Accept Return"]})}),(0,s.jsx)(l.Button,{onClick:eJ,disabled:eD,variant:"destructive",className:"flex-1",children:eD?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(S.XCircle,{className:"h-4 w-4 mr-2"}),"Deny Return"]})}),(0,s.jsx)(l.Button,{variant:"outline",onClick:()=>{eI(!1),eB(null),eP("")},disabled:eD,children:"Cancel"})]}),"pending"!==eA.returnRequest.type&&(0,s.jsxs)("div",{className:"pt-4 border-t",children:[(0,s.jsx)(I.Alert,{variant:"accepted"===eA.returnRequest.type?"default":"destructive",children:(0,s.jsxs)(I.AlertDescription,{children:[(0,s.jsxs)("div",{className:"font-semibold mb-1",children:["Status: ","accepted"===eA.returnRequest.type?"Accepted":"Denied"]}),eA.returnRequest.adminNotes&&(0,s.jsxs)("div",{className:"mt-1",children:[(0,s.jsx)("span",{className:"font-medium",children:"Admin Notes:"})," ",eA.returnRequest.adminNotes]}),eA.returnRequest.reviewedAt&&(0,s.jsxs)("div",{className:"mt-1 text-sm text-muted-foreground",children:["Reviewed: ",new Date(eA.returnRequest.reviewedAt).toLocaleString("en-IN")]}),"accepted"===eA.returnRequest.type&&eA.returnRequest.refundStatus&&(0,s.jsxs)("div",{className:"mt-1",children:[(0,s.jsx)("span",{className:"font-medium",children:"Refund Status:"})," ",eA.returnRequest.refundStatus]})]})}),(0,s.jsx)(l.Button,{variant:"outline",onClick:()=>{eI(!1),eB(null),eP("")},className:"mt-4 w-full",children:"Close"})]})]})]})})]})}e.s(["AdminOrdersList",()=>O],31439)}]);