(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23750,e=>{"use strict";var a=e.i(43476),s=e.i(47163);function t({className:e,type:t,...r}){return(0,a.jsx)("input",{type:t,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}e.s(["Input",()=>t])},10708,e=>{"use strict";var a=e.i(43476),s=e.i(71645),t=e.i(48425),r=s.forwardRef((e,s)=>(0,a.jsx)(t.Primitive.label,{...e,ref:s,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));r.displayName="Label";var n=e.i(47163);function i({className:e,...s}){return(0,a.jsx)(r,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...s})}e.s(["Label",()=>i],10708)},70065,e=>{"use strict";var a=e.i(43476),s=e.i(47163);function t({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function r({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function n({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...t})}function i({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...t})}function d({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...t})}e.s(["Card",()=>t,"CardContent",()=>d,"CardDescription",()=>i,"CardHeader",()=>r,"CardTitle",()=>n])},56909,e=>{"use strict";let a=(0,e.i(75254).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>a],56909)},15788,e=>{"use strict";let a=(0,e.i(75254).default)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);e.s(["Truck",()=>a],15788)},43432,e=>{"use strict";let a=(0,e.i(75254).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>a],43432)},94962,e=>{"use strict";e.i(47167);var a=e.i(43476),s=e.i(71645),t=e.i(18566),r=e.i(70065),n=e.i(67881),i=e.i(23750),d=e.i(10708),o=e.i(56909),c=e.i(3446),c=c,l=e.i(43432);let m=(0,e.i(75254).default)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);var h=e.i(15788),p=e.i(31278),u=e.i(20682);let g="https://api.elecobuy.com",x={brandName:"Elecobuy",companyName:"Elecobuy Electronics Pvt Ltd",address:"123, Tech Park, Mumbai, Maharashtra - 400001"},f={primaryPhone:"1800 123 9336",secondaryPhone:"+91 7396 777 600",supportPhone:"+91 7396 777 300",supportEmail:"SUPPORT@ELECOBUY.COM"},j={name:"Admin User",email:"admin@ecobuy.com",phone:"+91 98765 43210"};function y(){let e=(0,t.useRouter)(),{toast:y}=(0,u.useToast)(),[v,w]=(0,s.useState)(!0),[N,b]=(0,s.useState)(!1),[C,S]=(0,s.useState)(null),[k,P]=(0,s.useState)(150),[F,E]=(0,s.useState)(x),[I,T]=(0,s.useState)(f),[L,M]=(0,s.useState)(j),[A,U]=(0,s.useState)({current:"",new:"",confirm:""});(0,s.useEffect)(()=>{B()},[]);let B=async()=>{localStorage.getItem("adminToken")?(await Promise.all([H(),$(),O()]),w(!1)):e.push("/admin-login")},H=async()=>{try{let e=localStorage.getItem("adminToken");if(!e)return;let a=await fetch(`${g}/api/settings/admin/shipping-charges`,{headers:{Authorization:`Bearer ${e}`}});if(!a.ok)throw Error("Failed to fetch shipping charges");let s=await a.json();s.success&&s.data&&P(s.data.value??150)}catch(e){console.error("Error fetching shipping charges:",e),y({title:"Error",description:"Failed to load shipping charges",variant:"destructive"})}},$=async()=>{try{let e=localStorage.getItem("adminToken");if(!e)return;let a=await fetch(`${g}/api/settings/admin/site-settings`,{headers:{Authorization:`Bearer ${e}`}});if(!a.ok)return;let s=await a.json();s.success&&s.data&&(s.data.companyInfo&&E(e=>({...e,...s.data.companyInfo})),s.data.contactInfo&&T(e=>({...e,...s.data.contactInfo})))}catch(e){console.error("Error fetching site settings:",e)}},O=async()=>{try{let e=localStorage.getItem("adminToken");if(!e)return;let a=await fetch(`${g}/api/auth/admin/profile`,{headers:{Authorization:`Bearer ${e}`}});if(!a.ok)return;let s=await a.json();s.success&&s.data&&M({name:s.data.name??"",email:s.data.email??"",phone:s.data.phone??""})}catch(e){console.error("Error fetching admin profile:",e)}},D=()=>{let e=localStorage.getItem("adminToken");return{"Content-Type":"application/json",Authorization:`Bearer ${e}`}},z=async()=>{try{if(b(!0),!localStorage.getItem("adminToken"))return void e.push("/admin-login");let a=await fetch(`${g}/api/settings/admin/shipping-charges`,{method:"PUT",headers:D(),body:JSON.stringify({shippingCharges:Number(k)})}),s=await a.json();if(!a.ok||!s.success)throw Error(s.message||"Failed to update shipping charges");y({title:"Success",description:"Shipping charges updated successfully"})}catch(e){console.error("Error updating shipping charges:",e),y({title:"Error",description:e.message||"Failed to update shipping charges",variant:"destructive"})}finally{b(!1)}},J=async()=>{try{S("company");let e=await fetch(`${g}/api/settings/admin/site-settings`,{method:"PUT",headers:D(),body:JSON.stringify({companyInfo:F})}),a=await e.json();if(!e.ok||!a.success)throw Error(a.message||"Failed to update company information");a.data?.companyInfo&&E(e=>({...e,...a.data.companyInfo})),y({title:"Success",description:"Company information updated successfully"})}catch(e){y({title:"Error",description:e.message||"Failed to update company information",variant:"destructive"})}finally{S(null)}},R=async()=>{try{S("contact");let e=await fetch(`${g}/api/settings/admin/site-settings`,{method:"PUT",headers:D(),body:JSON.stringify({contactInfo:I})}),a=await e.json();if(!e.ok||!a.success)throw Error(a.message||"Failed to update contact information");a.data?.contactInfo&&T(e=>({...e,...a.data.contactInfo})),y({title:"Success",description:"Contact information updated successfully"})}catch(e){y({title:"Error",description:e.message||"Failed to update contact information",variant:"destructive"})}finally{S(null)}},q=async()=>{try{S("account");let e=await fetch(`${g}/api/auth/admin/profile`,{method:"PUT",headers:D(),body:JSON.stringify(L)}),a=await e.json();if(!e.ok||!a.success)throw Error(a.message||"Failed to update account");a.data&&M(e=>({...e,name:a.data.name??"",email:a.data.email??"",phone:a.data.phone??""})),y({title:"Success",description:"Account information updated successfully"})}catch(e){y({title:"Error",description:e.message||"Failed to update account",variant:"destructive"})}finally{S(null)}},V=async()=>{if(A.new!==A.confirm)return void y({title:"Error",description:"New password and confirm password do not match",variant:"destructive"});if(A.new.length<6)return void y({title:"Error",description:"New password must be at least 6 characters",variant:"destructive"});try{S("password");let e=await fetch(`${g}/api/auth/admin/change-password`,{method:"PUT",headers:D(),body:JSON.stringify({currentPassword:A.current,newPassword:A.new})}),a=await e.json();if(!e.ok||!a.success)throw Error(a.message||"Failed to change password");U({current:"",new:"",confirm:""}),y({title:"Success",description:"Password updated successfully"})}catch(e){y({title:"Error",description:e.message||"Failed to change password",variant:"destructive"})}finally{S(null)}};return v?(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)(p.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Settings"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage your admin settings and preferences"})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsxs)(r.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(h.Truck,{className:"h-5 w-5"}),"Shipping & Handling Charges"]}),(0,a.jsx)(r.CardDescription,{children:"Configure shipping and handling charges for customer orders"})]}),(0,a.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Label,{htmlFor:"shippingCharges",children:"Shipping/Handling Charges (â‚¹)"}),(0,a.jsx)(i.Input,{id:"shippingCharges",type:"number",min:"0",step:"1",value:k,onChange:e=>P(Number(e.target.value)),className:"mt-1.5"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"This amount will be charged to customers for shipping and handling"})]})}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(n.Button,{onClick:z,disabled:N,className:"gap-2",children:N?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Loader2,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Save,{className:"h-4 w-4"}),"Save Shipping Charges"]})})})]})]}),(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsxs)(r.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(m,{className:"h-5 w-5"}),"Company Information"]}),(0,a.jsx)(r.CardDescription,{children:"Update your company details and branding"})]}),(0,a.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"sm:col-span-2",children:[(0,a.jsx)(d.Label,{htmlFor:"brandName",children:"Brand Name"}),(0,a.jsx)(i.Input,{id:"brandName",value:F.brandName,onChange:e=>E(a=>({...a,brandName:e.target.value})),className:"mt-1.5"})]}),(0,a.jsxs)("div",{className:"sm:col-span-2",children:[(0,a.jsx)(d.Label,{htmlFor:"companyName",children:"Company Name"}),(0,a.jsx)(i.Input,{id:"companyName",value:F.companyName,onChange:e=>E(a=>({...a,companyName:e.target.value})),className:"mt-1.5"})]}),(0,a.jsxs)("div",{className:"sm:col-span-2",children:[(0,a.jsx)(d.Label,{htmlFor:"address",children:"Company Address"}),(0,a.jsx)(i.Input,{id:"address",value:F.address,onChange:e=>E(a=>({...a,address:e.target.value})),className:"mt-1.5"})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(n.Button,{onClick:J,disabled:"company"===C,className:"gap-2",children:"company"===C?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Loader2,{className:"h-4 w-4 animate-spin"})," Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Save,{className:"h-4 w-4"})," Save Company"]})})})]})]}),(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsxs)(r.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(l.Phone,{className:"h-5 w-5"}),"Contact Information"]}),(0,a.jsx)(r.CardDescription,{children:"Update your contact details"})]}),(0,a.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Label,{htmlFor:"phone1",children:"Primary Phone"}),(0,a.jsx)(i.Input,{id:"phone1",value:I.primaryPhone,onChange:e=>T(a=>({...a,primaryPhone:e.target.value})),className:"mt-1.5"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Label,{htmlFor:"phone2",children:"Secondary Phone"}),(0,a.jsx)(i.Input,{id:"phone2",value:I.secondaryPhone,onChange:e=>T(a=>({...a,secondaryPhone:e.target.value})),className:"mt-1.5"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Label,{htmlFor:"phone3",children:"Support Phone"}),(0,a.jsx)(i.Input,{id:"phone3",value:I.supportPhone,onChange:e=>T(a=>({...a,supportPhone:e.target.value})),className:"mt-1.5"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Label,{htmlFor:"supportEmail",children:"Support Email"}),(0,a.jsx)(i.Input,{id:"supportEmail",value:I.supportEmail,onChange:e=>T(a=>({...a,supportEmail:e.target.value})),className:"mt-1.5"})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(n.Button,{onClick:R,disabled:"contact"===C,className:"gap-2",children:"contact"===C?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Loader2,{className:"h-4 w-4 animate-spin"})," Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Save,{className:"h-4 w-4"})," Save Contact"]})})})]})]}),(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsxs)(r.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(c.default,{className:"h-5 w-5"}),"Account Settings"]}),(0,a.jsx)(r.CardDescription,{children:"Update your admin account information"})]}),(0,a.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Label,{htmlFor:"adminName",children:"Admin Name"}),(0,a.jsx)(i.Input,{id:"adminName",value:L.name,onChange:e=>M(a=>({...a,name:e.target.value})),className:"mt-1.5"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Label,{htmlFor:"adminEmail",children:"Admin Email"}),(0,a.jsx)(i.Input,{id:"adminEmail",type:"email",value:L.email,onChange:e=>M(a=>({...a,email:e.target.value})),className:"mt-1.5"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Label,{htmlFor:"adminPhone",children:"Admin Phone"}),(0,a.jsx)(i.Input,{id:"adminPhone",value:L.phone,onChange:e=>M(a=>({...a,phone:e.target.value})),className:"mt-1.5"})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(n.Button,{onClick:q,disabled:"account"===C,className:"gap-2",children:"account"===C?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Loader2,{className:"h-4 w-4 animate-spin"})," Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Save,{className:"h-4 w-4"})," Save Account"]})})})]})]}),(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsx)(r.CardTitle,{children:"Change Password"}),(0,a.jsx)(r.CardDescription,{children:"Update your password to keep your account secure"})]}),(0,a.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 max-w-md",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Label,{htmlFor:"currentPassword",children:"Current Password"}),(0,a.jsx)(i.Input,{id:"currentPassword",type:"password",value:A.current,onChange:e=>U(a=>({...a,current:e.target.value})),className:"mt-1.5"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Label,{htmlFor:"newPassword",children:"New Password"}),(0,a.jsx)(i.Input,{id:"newPassword",type:"password",value:A.new,onChange:e=>U(a=>({...a,new:e.target.value})),className:"mt-1.5"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Label,{htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,a.jsx)(i.Input,{id:"confirmPassword",type:"password",value:A.confirm,onChange:e=>U(a=>({...a,confirm:e.target.value})),className:"mt-1.5"})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(n.Button,{onClick:V,disabled:"password"===C,className:"gap-2",children:"password"===C?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Loader2,{className:"h-4 w-4 animate-spin"})," Updating..."]}):(0,a.jsx)(a.Fragment,{children:"Change Password"})})})]})]})]})]})}e.s(["AdminSettings",()=>y],94962)}]);